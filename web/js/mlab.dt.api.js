function Mlab_dt_api(){this.storage=new Object();this.version=0.9;this.properties_tooltip=false}Mlab_dt_api.prototype={getUrlAppAbsolute:function(){return window.location.origin+this.parent.config.urls.app},getUrlAppRelative:function(){return this.parent.config.urls.app},getUrlComponentAbsolute:function(){return window.location.origin+this.parent.config.urls.component},getUrlComponentRelative:function(){return this.parent.config.urls.component},getUrlTemplateAbsolute:function(){return window.location.origin+this.parent.config.urls.template},getUrlTemplateRelative:function(){return this.parent.config.urls.template},getUrlUploadAbsolute:function(a){return window.location.origin+this.parent.urls.component_upload_file.replace("_APPID_",this.parent.app.id).replace("_COMPID_",a)},getUrlUploadRelative:function(a){return this.parent.urls.component_upload_file.replace("_APPID_",this.parent.app.id).replace("_FILETYPES_",a)},getStoragePluginList:function(b){var d=$("<ul></ul>");var c="";var e;var a=mlab.dt.api.getVariable(b,"storage_plugin");if(a&&a.name){e=a.name}for(type in this.parent.storage_plugins){if(type==e){c=" class='mlab_item_applied' "}else{c=""}d.append("<li data-mlab-storage-plugin-type='"+type+"' "+c+" title='"+$("<div/>").text(this.parent.storage_plugins[type]).html()+"'>"+type.charAt(0).toUpperCase()+type.slice(1)+"</li>")}d.find("li").on("click",function(){mlab.dt.design.storage_plugin_add($(this).data("mlab-storage-plugin-type"),mlab.dt.api.getSelectedComponent())});return d},displayExternalHelpfile:function(f,e,d,b){var a="qtip-light mlab_dt_box_style mlab_zindex_top_tooltip";var c=this.parent.urls.component_helpfile.replace("_COMPID_",f);if(typeof b!=="undefined"){a=a+" "+b}$.getJSON(c,function(g){if(g.result==="SUCCESS"){$(d).qtip({solo:false,content:{text:g.html,title:e,button:true},position:{my:"topRight",at:"bottomMiddle",adjust:{screen:true},effect:false},show:{ready:true,modal:{on:true,blur:false}},hide:false,style:{classes:a},events:{hide:function(j,h){h.destroy()}}})}else{alert(g.message)}}).fail(function(){alert(_tr["mlab.dt.design.js.alert.help.notfound"])})},getMedia:function(extensions){var data=$.ajax({type:"GET",url:this.parent.urls.uploaded_files.replace("_APPID_",this.parent.app.id).replace("_FILETYPES_",extensions),async:false}).responseText;data=eval("("+data+")");if(data.result=="success"){return data.files}else{return"<option>"+_tr["mlab.dt.api.js.getMedia.fail"]+"</option>"}},getStyle:function(a){var b="";for(i in a){switch(a[i]){case"text":b=b+"mc_text ";break;case"imgtxt":b=b+"mc_picture_and_text";break}}},indicateWait:function(a){if(a){$("#mlab_editor").addClass("mlab_loading_info")}else{$("#mlab_editor").removeClass("mlab_loading_info")}},uploadMedia:function(e,d,b,a,g){this.indicateWait(true);content.append($("<p />",{text:_tr["mlab.dt.api.js.uploadMedia.qtip.content.1"],"class":"mlab_dt_text_info"}));content.append($('<select id="mlab_cp_img_select_image" class="mlab_dt_select"><option>'+_tr["mlab.dt.api.js.uploadMedia.qtip.content.2"]+"</option></select>"));content.append($("<div />",{id:"mlab_cp_image_uploadfiles","class":"mlab_dt_button_upload_files mlab_dt_left",name:"mlab_cp_image_uploadfiles",text:_tr["mlab.dt.api.js.uploadMedia.qtip.content.3"],data:{allowed_types:["jpg","jpeg","png","gif"],multi:false}}));content.append($("<div />",{"class":"mlab_dt_large_new_line"}));content.append($("<div />",{text:_tr["mlab.dt.api.js.uploadMedia.qtip.content.4"],id:"mlab_cp_image_button_cancel","class":"pure-button pure-button-xsmall mlab_dt_button_cancel mlab_dt_left"}));content.append($("<div />",{text:_tr["mlab.dt.api.js.uploadMedia.qtip.content.5"],id:"mlab_cp_image_button_ok","class":"pure-button pure-button-xsmall right mlab_dt_button_ok mlab_dt_left"}));var f=this;if(typeof g!="undefined"){var c=g.currentTarget}else{var c=e}this.properties_tooltip=$(c).qtip({solo:false,content:{text:content,title:_tr["mlab.dt.api.js.uploadMedia.qtip.title"]},position:{my:"leftMiddle",at:"rightMiddle"},show:{ready:true,modal:{on:true,blur:false}},hide:false,style:{classes:"qtip-light mlab_zindex_top_tooltip"},events:{render:function(l,k){f.indicateWait(true);this.dt_component=e;this.dt_component_id=d.name;this.dt_config=d;this.dt_cb=a;var h=f.getMedia(b);$("#mlab_cp_img_select_image").html(h).on("change",function(){j.dt_cb(j.dt_component,$("#mlab_cp_img_select_image").val());f.setDirty();f.closeAllPropertyDialogs()});if($("#mlab_cp_image_button_ok").length>0){var j=this;var m=$("#mlab_cp_image_uploadfiles").uploadFile({url:f.getUrlUploadAbsolute(j.dt_config.name),formData:{comp_id:j.dt_component_id,app_path:f.parent.app.path},multiple:false,showCancel:false,showAbort:false,showDone:false,autoSubmit:true,fileName:"mlab_files",showStatusAfterSuccess:true,allowedTypes:b,onSuccess:function(n,o,p){j.dt_cb(j.dt_component,o.url);f.setDirty();k.hide()}.bind(j.dt_component),onError:function(p,n,o){alert(o)}});$("#mlab_cp_image_uploadfiles_start").click(function(){m.startUpload()})}$("#mlab_cp_image_button_ok",k.elements.content).click(function(n){k.hide(n);if(typeof(document["mlab_code_"+component_id])!=="undefined"){document["mlab_code_"+component_id].setProperties($("#mlab_dt_form_upload").serializeArray(),this)}}.bind(j.dt_component));$("#mlab_cp_image_button_cancel",k.elements.content).click(function(n){k.hide(n)});$(".new_but_line").addClass("mlab_dt_button_new_line");$(".new_big_line").addClass("mlab_dt_large_new_line");$(".new_small_line").addClass("mlab_dt_small_new_line");$(".info").addClass("mlab_dt_text_info");$(".ajax-file-upload-filename").addClass("mlab_dt_text_filename");$(".ajax-file-upload-statusbar").addClass("mlab_dt_progress_bar");f.indicateWait(false)},show:function(j,h){h.focus(j)},hide:function(j,h){h.destroy();f.properties_tooltip=false}}});this.indicateWait(false)},getGUID:function(){return"mlab_"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var b=Math.random()*16|0,a=d=="x"?b:(b&3|8);return a.toString(16)})},getAllLibraries:function(){var a=[];var c;var b=this;$("#"+this.getEditorElement()).children("[data-mlab-type]").each(function(){c=$(this).data("mlab-type");if(a.indexOf(c)<0){b.getLibraries(c);a.push(c)}})},getLibraries:function(e){if("required_libs" in this.parent.components[e].conf){if("designtime" in this.parent.components[e].conf.required_libs){var d=window.location.origin+this.parent.urls.components_root_url;var c=this.parent.components[e].conf.name;for(i in this.parent.components[e].conf.required_libs.designtime){var a=this.parent.components[e].conf.required_libs.designtime[i];var b=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(b.test(a)){if(a.substr(-3)==".js"){if($("script[src*='"+a+"']").length<1){$("head").append($("<script src='"+a+"' >"))}}else{if($("link[href*='"+a+"']").length<1){$("head").append($("<link rel='stylesheet' type='text/css' href='"+a+"' >"))}}}else{if(a.substr(-3)==".js"){if($("script[src*='"+a+"']").length<1){$("head").append($("<script src='"+d+c+"/js/"+a+"' >"))}}else{if(a.substr(-4)==".css"){if($("link[href*='"+a+"']").length<1){$("head").append($("<link rel='stylesheet' type='text/css' href='"+d+c+"/css/"+a+"' >"))}}}}}}}},getVersion:function(){return this.version},getSelectedComponent:function(){return $(".mlab_current_component")},setDirty:function(){this.parent.flag_dirty=true},clearDirty:function(){this.parent.flag_dirty=false},getEditorElement:function(){return this.parent.config.app.content_id},closeAllPropertyDialogs:function(){if(this.properties_tooltip){$(this.properties_tooltip).qtip("hide")}},executeCallback:function(d,b,c,a){if(typeof d=="undefined"||d==null){return}d(b,c,a)},displayPropertyDialog:function(b,l,g,m,o,e,d,h,a){this.indicateWait(true);this.closeAllPropertyDialogs();that=this;var k="mlab_property_dlg qtip-light mlab_dt_box_style mlab_zindex_top_tooltip";if(h==true){k=k+" mlab_dt_wide_qtip_box "}if(typeof a!="undefined"){var n=a.currentTarget}else{var n=b}var p=$(".mlab_current_component");var j="leftMiddle";var f=p.offset().top;if(f<=145){j="leftTop"}that.properties_tooltip=$(n).qtip({solo:false,content:{text:g,title:l,button:true},position:{my:j,at:"rightMiddle",adjust:{screen:true}},show:{ready:true,modal:{on:true,blur:false},autofocus:d},hide:false,style:{classes:k},events:{render:function(q,c){if(m){that.executeCallback(m,b,q,c)}},hide:function(q,c){if(e){that.executeCallback(e,b,q,c)}c.destroy();that.properties_tooltip=false},visible:function(q,c){if(o){that.executeCallback(o,b,q,c)}}}});this.indicateWait(false)},displayHtmlPageInDialog:function(d,e,a,c){var b="qtip-light mlab_dt_box_style mlab_zindex_top_tooltip";if(typeof c!="undefined"){var b=b+" "+c}$(d).qtip({solo:false,content:{text:a,title:e,button:true},position:{my:"topRight",at:"bottomMiddle",adjust:{screen:true},effect:false},show:{ready:true,modal:{on:true,blur:false}},hide:false,style:{classes:b},events:{hide:function(g,f){f.destroy()},render:function(){$(".mlab_help_icon").qtip().elements.tooltip.draggable()}}})},editContent:function(b){$(b).attr("contenteditable","true").focus();var a=document.createRange();var c=window.getSelection();a.selectNodeContents($(b)[0]);c.removeAllRanges();c.addRange(a)},getLocale:function(){return this.parent.parent.locale},getLocaleComponentMessage:function(e,a){var d=this.getLocale();var c=this.parent.components[e].conf;var b=false;for(i in a){if(a[i] in c){b=true;c=c[a[i]]}else{b=false;break}}if(!b){return""}else{if(typeof c!="object"){return c}else{if(d in c){return c[d]}else{if("default" in c){return c["default"]}else{return""}}}}},getVariable:function(c,b){var a=$(c).find("script.mlab_storage").html();if(typeof a=="undefined"||a==""){return}try{var f=JSON.parse(a)}catch(d){console.log(d);return}return f[b]},getAllVariables:function(b){var a=$(b).find("script.mlab_storage").html();if(typeof a=="undefined"||a==""){return}try{var d=JSON.parse(a)}catch(c){console.log(c);return}return d},getTempVariable:function(a,b){if(typeof document.mlab_dt_storage=="undefined"){return}if(typeof document.mlab_dt_storage[a]=="undefined"){return}if(typeof document.mlab_dt_storage[a][b]=="undefined"){return}return document.mlab_dt_storage[a][b]},setVariable:function(d,c,f){var a=$(d).find("script.mlab_storage");if(a.length<1){$(d).append("<script type='application/json' class='mlab_storage' />");var h=new Object()}else{var b=a.html();if(b!=""){try{var h=JSON.parse(b)}catch(g){console.log(g);var h=new Object()}}else{var h=new Object()}}h[c]=f;$(d).find("script.mlab_storage").html(JSON.stringify(h));this.setDirty();return true},setAllVariables:function(c,b){var a=$(c).find("script.mlab_storage");if(a.length<1){$(c).append("<script type='application/json' class='mlab_storage' />")}$(c).find("script.mlab_storage").html(JSON.stringify(b));this.setDirty();return true},setTempVariable:function(a,b,c){if(typeof document.mlab_dt_storage=="undefined"){document.mlab_dt_storage={}}if(typeof document.mlab_dt_storage[a]=="undefined"){document.mlab_dt_storage[a]={}}if(typeof document.mlab_dt_storage[a][b]=="undefined"){document.mlab_dt_storage[a][b]={}}document.mlab_dt_storage[a][b]=c},setScript:function(b,c){var a=$(b).find("script.mlab_code");if(a.length>0){a.remove()}a=document.createElement("script");a.type="text/javascript";a.className="mlab_code";a.text=c;$(b).append(a);return true},getSelTextParentLinkElement:function(){var a,c,b;c=window.getSelection();if(c.rangeCount){a=c.getRangeAt(0).commonAncestorContainer;b=a.nodeName.toLowerCase();while(b!="a"&&b!="body"){a=a.parentNode;b=a.nodeName.toLowerCase()}}if(b=="a"){return a}else{return false}},checkSelTextValid:function(){var a,c,b;c=window.getSelection();if(c.toString()!=""){a=c.getRangeAt(0).commonAncestorContainer;if($(a).parents("div.mlab_current_component").length>0){return true}}return false},updateLink:function(c){var d=$("input:radio[name=mlab_dt_getlink_choice]:checked").val();var c="";var b;if(d=="page"){c=$("#mlab_dt_link_app_pages").val();var a=parseInt(c);if(parseInt(c)>=0&&a<1000){b=" onclick='mlab.api.navigation.pageDisplay(-1, "+a+"); return false;' "}else{alert(_tr["mlab.dt.api.js.getLink.alert_no_page"]);return false}}else{if(d=="url"){c=$("#mlab_dt_link_app_url").val();if(/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)){b=c.trim()}else{alert(_tr["mlab.dt.api.js.getLink.alert_url_wrong"]);return false}}else{alert(_tr["mlab.dt.api.js.getLink.alert_choose_type"]);return false}}$(".mlab_current_component").find("a[href=MLAB_DT_LINK_TEMP]").attr("href",b);return true},setLink:function(){if(!this.checkSelTextValid()){alert(_tr["mlab.dt.api.js.getLink.no_selection"]);return}document.execCommand("createlink",false,"MLAB_DT_LINK_TEMP");$(".mlab_current_component").find("a[href=MLAB_DT_LINK_TEMP]").click(function(c){c.preventDefault()});var a="<option value='-1'></option>";for(page in mlab.dt.app.page_names){a=a+"<option value='"+page+"'>"+mlab.dt.app.page_names[page]+"</option>"}var b=this;$('<div id="mlab_dt_link_dialog"><label><input type="radio" name="mlab_dt_getlink_choice" value="page">'+_tr["mlab.dt.api.js.getLink.app_page"]+'</label><br><select id="mlab_dt_link_app_pages">'+a+'</select><br><label><input type="radio" name="mlab_dt_getlink_choice" value="url">'+_tr["mlab.dt.api.js.getLink.url"]+'</label><br><input type="text" id="mlab_dt_link_app_url">'+_tr["mlab.dt.api.js.getLink.url"]+"<br></div>").dialog({title:_tr["mlab.dt.api.js.getLink.heading"],modal:true,buttons:[{text:_tr["mlab.dt.api.js.getLink.ok"],click:function(){if(b.updateLink()){$(this).dialog("destroy").remove()}}},{text:_tr["mlab.dt.api.js.getLink.cancel"],click:function(){$(".mlab_current_component").find("a[href=MLAB_DT_LINK_TEMP]").replaceWith($(".mlab_current_component").find("a[href=MLAB_DT_LINK_TEMP]").contents());$(this).dialog("destroy").remove()}}]}).dialog("moveToTop")},removeLink:function(){var a=this.getSelTextParentLinkElement();if(a){if($(a).parents("#mlab_editable_area").length>0){$(a).replaceWith($(a).contents())}}},getStorageCredentials:function(a,b,d){var c=$("<div />",{id:"mlab_dt_dialog_credentials",title:_tr["mlab.dt.api.js.getCredentials.dlg.title"]});c.append($("<p />",{text:_tr["mlab.dt.api.js.getCredentials.dlg.text"],"class":"mlab_dt_text_info"}));for(credential in a){c.append($("<label />",{text:a[credential].charAt(0).toUpperCase()+a[credential].slice(1),"for":"mlab_dt_dialog_credentials_"+a[credential],"class":"mlab_dt_short_label"}));c.append($("<input />",{name:"mlab_dt_dialog_credentials_"+a[credential],id:"mlab_dt_dialog_credentials_"+a[credential],"class":"mlab_dt_input"}))}c.append($('<button>Save</button><div class="mlab_newline">&nbsp;</div>'));c.find("button").on("click",function(){var e={};for(credential in a){e[a[credential]]=$("#mlab_dt_dialog_credentials_"+a[credential]).val()}b(e,d);$(mlab.dt.qtip_tools).qtip().elements.content.find("[data-mlab-get-info='storage_plugins']").slideUp();$(mlab.dt.qtip_tools).qtip().elements.content.find("[data-mlab-get-info='credentials']").slideUp();$(mlab.dt.qtip_tools).qtip().elements.content.find('[data-mlab-tool-name="select_storage_plugin"]').attr("src","/img/tools/storage_selected.png")});$(mlab.dt.qtip_tools).qtip().elements.content.find("[data-mlab-get-info='credentials']").html("").append(c).slideDown()},getCredentials:function(a,c,e){var d=$("<div />",{id:"mlab_dt_dialog_credentials",title:_tr["mlab.dt.api.js.getCredentials.dlg.title"]});for(credential in a){d.append($("<p />",{text:_tr["mlab.dt.api.js.getCredentials.dlg.text"],"class":"mlab_dt_text_info"}));d.append($("<label />",{text:a[credential].charAt(0).toUpperCase()+a[credential].slice(1),"for":"mlab_dt_dialog_credentials_"+a[credential],"class":"mlab_dt_short_label"}));d.append($("<input />",{name:"mlab_dt_dialog_credentials_"+a[credential],id:"mlab_dt_dialog_credentials_"+a[credential],"class":"mlab_dt_input"}));d.append($("<br />"))}var b=$(d).dialog({autoOpen:true,modal:true,closeOnEscape:true,dialogClass:"mlab_dt_dialog_credentials",buttons:{Save:function(){var f={};for(credential in a){f[a[credential]]=$("#mlab_dt_dialog_credentials_"+a[credential]).val()}$(this).dialog("close");d.remove();c(f,e)}}}).dialog("open")},display:{setEditableFocus:function(c){var d=window.getSelection();var a=document.createRange();var b=c[0];if(c.text()!=""){a.setStart(b,0);a.setEnd(b,0);d.removeAllRanges();d.addRange(a)}else{b.innerHTML="\u00a0";a.selectNodeContents(b);d.removeAllRanges();d.addRange(a);document.execCommand("delete",false,null)}},setAspectRatio:function(b,a){if(["4:3","16:9","1:1"].indexOf(a)>-1){var c=$(b).children(":first");if(typeof c.data("mlab-sizer")=="undefined"){$(b).children().wrapAll("<div data-mlab-sizer='1' data-mlab-size='medium'></div>");c=$(b).children(":first")}c.attr("data-mlab-aspectratio",a);this.parent.closeAllPropertyDialogs();this.parent.setDirty();this.updateDisplay(c)}},setSize:function(b,a){if(["small","medium","large","fullscreen"].indexOf(a)>-1){var c=$(b).children(":first");if(typeof c.data("mlab-sizer")=="undefined"){$(b).children().wrapAll("<div data-mlab-sizer='1' data-mlab-aspectratio='4:3'></div>");c=$(b).children(":first")}$(c).attr("data-mlab-size",a);this.parent.closeAllPropertyDialogs();this.parent.setDirty();this.updateDisplay(c)}},updateDisplay:function(a){var c=(typeof a=="undefined")?$("[data-mlab-sizer]"):$(a);var b=this;c.each(function(){var j=$('[data-role="page"]').first().innerWidth();var g=$(this).attr("data-mlab-aspectratio").split(":");var e=$(this).attr("data-mlab-size");var l=(e=="small")?0.33:((e=="medium")?0.67:1);var k=$(this).parent().data("mlab-type");var d=(j*l);var f=(d/g[0])*g[1];$(this).css({width:d+"px",height:f+"px"});if(typeof b.parent.parent.components[k]!="undefined"&&typeof b.parent.parent.components[k].code!="undefined"&&typeof b.parent.parent.components[k].code.onResize!="undefined"){b.parent.parent.components[k].code.onResize(this)}})},invertColor:function(d){if(typeof d=="undefined"){return"rgb(255, 255, 255);"}var c=d.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),b;c.splice(0,1);for(b=1;b<3;++b){c[b]=parseInt(c[b],10)}var a="rgb(";$.each(c,function(e,f){a+=(255-f)+","});a=a.slice(0,-1);a+=")";return a},getBackground:function(b){var a=b.css("background-color");if(a!=="rgba(0, 0, 0, 0)"){return a}if(b.is("body")){return false}else{return this.getBackground(b.parent())}},componentHighlightSelected:function(c){var a=$("#"+this.parent.getEditorElement()+"> div.mlab_current_component");if(c[0]===a[0]){return false}if(c[0]!==a[0]){a.qtip("hide");a.removeClass("mlab_current_component");a.find("mlab_current_component").css("outline-color","").removeClass("mlab_current_component");a.find(".mlab_current_component_editable").css("outline-color","").removeClass("mlab_current_component_editable").attr("contenteditable",false);window.getSelection().removeAllRanges();a.find(".mlab_current_component_child").css("outline-color","").removeClass("mlab_current_component_child");var d=$("[data-role=page]").css("background-color");var b=this.invertColor(d);$(c).css("outline-color",b);$(c).addClass("mlab_current_component");return true}return false},componentHighlightSelectedChildren:function(g,c,b){g=$(g);if(!$(".mlab_current_component").find(".mlab_current_component_child").is(g)||b){$(".mlab_current_component").find(".mlab_current_component_child").css("outline-color","").removeClass("mlab_current_component_child");var e=this.getBackground(g);var d=this.invertColor(e);g.css("outline-color",d);g.addClass("mlab_current_component_child")}if(typeof c!="undefined"){c=$(c);if(!$(".mlab_current_component").find(".mlab_current_component_editable").is(c)){$(".mlab_current_component").find(".mlab_current_component_editable").css("outline-color","").removeClass("mlab_current_component_editable").attr("contenteditable",false);if(typeof c!="undefined"&&c.length>0&&$(c).prop("tagName").toLowerCase()!="input"){var f=this.getBackground(c);var a=this.invertColor(f);c.css("outline-color",a);c.addClass("mlab_current_component_editable").attr("contenteditable",true)}}}}}};