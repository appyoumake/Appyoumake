<!DOCTYPE html>
<html>
<head>
<title>basic</title>
<meta charset="UTF-8">
<link rel="stylesheet" href="./css/include.css">
<link rel="stylesheet" href="./css/jquery-mobile.css">
<link rel="stylesheet" href="./css/style.css">
<script src="./js/jquery.js"></script>
<script src="./js/jquery-ui.js"></script>
<script src="./js/jquery-mobile.js"></script>
<script src="./js/mlab.api.js"></script>
<script src="./js/include.js"></script>
<script>
    
//this variable tracks the current age, may be replaced with jquery mobile code
    mlab_rt_current_page = 0;
    /**
     * When document is ready we initialise the load code for the jquery mobile functionality
     * This is done by assigning the mlab.api.navigation.pageDisplay call to various page navigation elements
     * @type type
     */
    function inititaliseMlabApp() {
        
//this function will loop through the components and initialise them by calling the components' onPageLoad function (if it exists)
// see https://jqmtricks.wordpress.com/2014/05/23/jquery-mobile-page-events-extra/
// http://jsfiddle.net/Palestinian/2SCbL/embedded/result/
// http://jsfiddle.net/Palestinian/2SCbL/embedded/js/
// https://jqmtricks.wordpress.com/2014/03/26/jquery-mobile-page-events/
// http://api.jquerymobile.com/pagecontainer/#event-load
// http://demos.jquerymobile.com/1.4.3/navigation/
        $(document).on("pagecontainerload", function (e, ui) {
            mlab.api.navigation.prepareComponents(e, ui);
        })
        
        $("#panel_left").on("click", function () { mlab_rt_current_page = mlab.api.navigation.pageDisplay(mlab_rt_current_page, "previous"); });
        $("#panel_right").on("click", function () { mlab_rt_current_page = mlab.api.navigation.pageDisplay(mlab_rt_current_page, "next"); });
    });
    
</script>
</head>
<body id="page_body">
    <div data-role="page" id="page">
    
        <div id="header" class="mlab_hide_in_app_builder" data-role="header" data-position="fixed" data-fullscreen="true" data-id="main-header">  
            <div id="menu_box">
                <div id="marg_top_menu"></div>
                <div id="marg_left_menu"></div>
                <div id="btn_heraldisk"></div> 
                <div id="btn_menu" class="btn_secondary"></div> 
                <div id="btn_color_toggle" class="btn_secondary"></div>
                <div id="btn_txsize" class="btn_secondary"></div>
                <div id="btn_end" class="btn_secondary"></div>
            </div>
        </div>
      
        <div id="panel_left" class="mlab_hide_in_app_builder"></div>
        <div id="gradient_top" class="mlab_hide_in_app_builder"></div>  

        <div data-role="content">
            <div id="content">

                <div id="mlab_editable_area" class="mlab_editable_area">

                </div>
            </div>
        </div>

        <div id="gradient_bottom" class="mlab_hide_in_app_builder"></div>
        <div id="panel_right" class="mlab_hide_in_app_builder"></div>

        <div id="footer" class="mlab_hide_in_app_builder" data-role="footer" data-position="fixed" data-fullscreen="true" data-id="main-footer">
            <div id="slider_box" class="slider_box">
                <div id="marg_left_slider"></div>
                <div id="mid_with_slider">
                    <input type="range" class="ui-hidden-accessible" name="page_slider" id="page_slider" min="0" max="3" value="0" data-show-value="true" data-highlight="true">
                </div>
                <div id="marg_right_slider"></div>
            </div>  
        </div>
        
    </div>

</body>
</html>